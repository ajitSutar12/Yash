<?php
/*
Author      : Bhumika Lad
Version     : 1
Source      :
Start Date  : 28-05-2019
Last Updated date   : 29-05-2019 -->
 */

//In this code generate a pdf formated PO REPORT 

// Include the main TCPDF library (search for installation path).
require_once('tcpdf-master/config/tcpdf_config.php');
require_once('tcpdf-master/tcpdf.php');

class PDF extends TCPDF
{
    // set the header
    public function Header()
    {
        // $image_file = K_PATH_IMAGES.'../img/logo.png';
        // $this->Image($image_file,10,10,40,'','PNG','','T',false,300,'',false,false,0,false,false,false);

        // set font
        $this->Ln(1);
        $this->SetFont('helvetica','B',13);

        // title
        $this->Cell(189,5,'Surya Equipments',0,1,'C');
        $this->SetFont('helvetica','',10);
        $this->Cell(189,5,'B-39, M.I.D.C. Gokul Shirgaon kolhapur KOLHAPUR 416234.',0,1,'C');
        $this->Cell(189,5,'Phone No.  (0231) 2672414',0,1,'C');
        $this->Cell(189,5,'GSTIN NO:27AAECS4252M1Z1',0,1,'C');
        $this->SetFont('helvetica','',8);
        $this->Cell(189,5,'WebSite-www.suryaequipments.com EMailId-purchase@suryaequipments.co.in',0,1,'C');
    }
    // For get data from datasheet file
    // Load table data from file
    // public function LoadData($file) {
    //     // Read file lines
    //     $lines = file($file);
    //     $data = array();
    //     foreach($lines as $line) {
    //         $data[] = explode(';', chop($line));
    //     }
    //     return $data;
    // }
    // colored table
    // public function ColoredTable($header,$data) {
    //     // Colors, line width and bold font
    //     $this->SetFillColor(255, 0, 0);
    //     $this->SetTextColor(255);
    //     $this->SetDrawColor(128, 0, 0);
    //     $this->SetLineWidth(0.3);
    //     $this->SetFont('', 'B');
    //     // Header
    //     $w = array(40, 35, 40, 45);
    //     $num_headers = count($header);
    //     for($i = 0; $i < $num_headers; ++$i) {
    //         $this->Cell($w[$i], 7, $header[$i], 1, 0, 'C', 1);
    //     }
    //     $this->Ln();
    //     // Color and font restoration
    //     $this->SetFillColor(224, 235, 255);
    //     $this->SetTextColor(0);
    //     $this->SetFont('');
    //     // Data
    //     $fill = 0;
    //     foreach($data as $row) {
    //         $this->Cell($w[0], 6, $row[0], 'LR', 0, 'L', $fill);
    //         $this->Cell($w[1], 6, $row[1], 'LR', 0, 'L', $fill);
    //         $this->Cell($w[2], 6, number_format($row[2]), 'LR', 0, 'R', $fill);
    //         $this->Cell($w[3], 6, number_format($row[3]), 'LR', 0, 'R', $fill);
    //         $this->Ln();
    //         $fill=!$fill;
    //     }
    //     $this->Cell(array_sum($w), 0, '', 'T');
    // }
}

$pdf= new PDF('p','mm','A4');

// set document information
$pdf->SetCreator(PDF_CREATOR);
$pdf->SetAuthor('SURYA EQUIPMENTS');
$pdf->SetTitle('PO REPORT');
$pdf->SetSubject('');
$pdf->SetKeywords('');

// set default header data
$pdf->SetHeaderData(PDF_HEADER_LOGO, PDF_HEADER_LOGO_WIDTH, PDF_HEADER_TITLE, PDF_HEADER_STRING);
// remove default header/footer

// set header and footer fonts
$pdf->SetHeaderFont(Array(PDF_FONT_NAME_MAIN, '', PDF_FONT_SIZE_MAIN));
// $pdf->SetFooterFont(Array(PDF_FONT_NAME_DATA, '', PDF_FONT_SIZE_MAIN));

// set default monospaced font
$pdf->SetDefaultMonospacedFont(PDF_FONT_MONOSPACED);

// set margins
//$pdf->SetMargins(PDF_MARGIN_LEFT, PDF_MARGIN_TOP, PDF_MARGIN_RIGHT);
// $pdf->SetHeaderMargins(PDF_MARGIN_HEADER);
// $pdf->SetFooterMargins(PDF_MARGIN_FOOTER);

// set auto page breaks
$pdf->SetAutoPageBreak(TRUE, PDF_MARGIN_BOTTOM);

// set image scale factor
$pdf->setImageScale(PDF_IMAGE_SCALE_RATIO);

// set some language-dependent strings (optional)
if (@file_exists(dirname(__FILE__).'/lang/eng.php')) {
    require_once(dirname(__FILE__).'/lang/eng.php');
    $pdf->setLanguageArray($l);
}

// ---------------------------------------------------------

// set font
// $pdf->SetFont('times', 'R', 8);

// add a page
$pdf->AddPage();

$pdf->Ln(27);

$pdf->SetFont('helvetica', '', 8);

$tbl = <<<EOD
<table border="1" cellpadding="3" height="100%">
<tr style="background-color:#DFDFDF;color:#0000FF;">
    <td colspan="3"><h1 style="color:black; text-align: center;">Purchase Order</h1>
    </td>
</tr>
<tr>
    <td  colspan="2" width="50%">
        <table>
            <tr>
                <td  colspan="2" style = "text-align: left; color:black;">GSTIN No. : 27AAECS4252M1Z1 </td>
            </tr>
            <tr>
                <td  colspan="2" style = "text-align: left; color:black;">State Name : Maharashtra</td>
            </tr>
            <tr>
                <td  colspan="2" style = "text-align: left; color:black;">To, </td>
            </tr>
            <tr>
                <td colspan="2" style = "text-align: left; color:black;">Name : Mahesh Enterprises</td>
            </tr>
            <tr>
                <td colspan="2" style = "text-align: left; color:black;">Address :</td>
            </tr>
            <tr>
                <td colspan="2" style = "text-align: left; color:black;">Phone No. : -</td>
            </tr>
            <tr>
                <td style = "text-align: left; color:black;">State Name : Maharashtra</td>
                <td style = "text-align: left; color:black;">State Code : 27</td>
            </tr>
            <tr>
                <td colspan="2" style = "text-align: left; color:black;">GSTIN No. : 27AGMPS9591G1ZG</td>
            </tr>
        </table>    
    </td>
    <td width="50%"> 
        <table>
            <tr>
                <td style = "text-align: left; color:black;;" colspan="2">State Code : 27</td>
            </tr>
            <tr>
            <td style = "text-align: left; color:black;" colspan="2">PAN No. : AAECS4252</td>
            </tr>
            <tr>
            <td style = "text-align: left; color:black;">P.O.No. : 1819- 000010-0</td>
                <td style = "text-align: left; color:black;">P.O.Date : 05/06/2018</td>
            </tr>
            <tr>
                <td style = "text-align: left; color:black;">P.O. Type :One Time</td>
                <td style = "text-align: left; color:black;">Valid Date : 12/07/2018</td>
            </tr>
            <tr>
                <td style = "text-align: left; color:black;" colspan="2">Credit Days : 90</td>
            </tr>
            <tr>
                <td style = "text-align: left; color:black;">Your Ref.No. :</td>
                <td style = "text-align: left; color:black;">Ref.Date :</td>
            </tr>
            <tr>
                <td style = "text-align: left; color:black;">Our Ref.No. : S-17-108-GLI</td>
                <td style = "text-align: left; color:black;">Ref.Date :</td>
            </tr>
            <tr>
                <td style = "text-align: left; color:black;" colspan="2"> Schedule Date : 12/06/2018</td>
            </tr>
        </table>
    </td>
</tr>
<tr>
    <td colspan="3"><h2 style="text-align:Left; color: black;">Kind Attn. :    Pradeepbhai </h2></td>
</tr>
<tr>
    <td colspan="3">We are pleased to place an order with you for the following material or other services subject to the terms and conditions printed overleaf &/or annexed. You are requested to acknowledge the order as taken of your acceptance.
    </td>
</tr>
<tr >
    <td colspan="3"  height="200%">
        <table border="1" width="690px" cellpadding="1.5">
            <thead>
                <tr>
                    <th width="20"><h4 style="text-align:center; color: black;">Sr. No.</h4></th>
                    <th width="115"><h4 style="text-align:center; color: black;">Item Description</h4></th>
                    <th><h4 style="text-align:center; color: black;">HSN /SAC</h4></th>
                    <th><h4 style="text-align:center; color: black;">Qty</h4></th>
                    <th><h4 style="text-align:center; color: black;">Unit</h4></th>
                    <th width="40"><h4 style="text-align:center; color: black;">Rate</h4></th>
                    <th><h4 style="text-align:center; color: black;">Prch Unit</h4></th>
                    <th width="40"><h4 style="text-align:center; color: black;">Rate /</h4></th>
                    <th><h4 style="text-align:center; color: black;">Disc %</h4></th>
                    <th><h4 style="text-align:center; color: black;">GST %</h4></th>
                    <th><h4 style="text-align:center; color: black;">Amount</h4></th>
                </tr>
                
            </thead>
            <tbody>
                <tr>
                    <td style="text-align:center;" width="20">1</td>
                    <td style="text-align:center;">Hex Nuts 5/16</td>
                    <td style="text-align:center;">7318</td>
                    <td style="text-align:center;">600</td>
                    <td style="text-align:center;">NOS</td>
                    <td style="text-align:center;">80.00</td>
                    <td style="text-align:center;">KGS</td>
                    <td style="text-align:center;">1</td>
                    <td style="text-align:center;"></td>
                    <td style="text-align:center;">18.00</td>
                    <td style="text-align:center;">240.00</td> 
                </tr>
                <tr>
                    <td style="text-align:center;" width="20">2</td>
                    <td style="text-align:center;">Hex Nuts 3/8</td>
                    <td style="text-align:center;">7318</td>
                    <td style="text-align:center;">4075</td>
                    <td style="text-align:center;">NOS</td>
                    <td style="text-align:center;">80.00</td>
                    <td style="text-align:center;">KGS</td>
                    <td style="text-align:center;">1</td>
                    <td style="text-align:center;"></td>
                    <td style="text-align:center;">18.00</td>
                    <td style="text-align:center;">2,608.00</td>
                </tr>
                <tr>
                    <td style="text-align:center;" width="20">3</td>
                    <td style="text-align:center;">Hex Nuts 1/2</td>
                    <td style="text-align:center;">7318</td>
                    <td style="text-align:center;">698</td>
                    <td style="text-align:center;">NOS</td>
                    <td style="text-align:center;">80.00</td>
                    <td style="text-align:center;">KGS</td>
                    <td style="text-align:center;">1</td>
                    <td style="text-align:center;"></td>
                    <td style="text-align:center;">18.00</td>
                    <td style="text-align:center;">1,228.48</td>
                </tr>
                <tr>
                    <td style="text-align:center;" width="20">4</td>
                    <td style="text-align:center;">Hex Nuts 3/4</td>
                    <td style="text-align:center;">7318</td>
                    <td style="text-align:center;">210</td>
                    <td style="text-align:center;">NOS</td>
                    <td style="text-align:center;">80.00</td>
                    <td style="text-align:center;">KGS</td>
                    <td style="text-align:center;">1</td>
                    <td style="text-align:center;"></td>
                    <td style="text-align:center;">18.00</td>
                    <td style="text-align:center;">1,058.40</td>
                </tr>
                <tr>
                    <td style="text-align:center;" width="20">5</td>
                    <td style="text-align:center;">Hex Nuts HT 1/2</td>
                    <td style="text-align:center;">7318</td>
                    <td style="text-align:center;">130</td>
                    <td style="text-align:center;">NOS</td>
                    <td style="text-align:center;">6.70</td>
                    <td style="text-align:center;">KGS</td>
                    <td style="text-align:center;">1</td>
                    <td style="text-align:center;"></td>
                    <td style="text-align:center;">18.00</td>
                    <td style="text-align:center;">871.00</td>
                </tr>
                <tr>
                    <td style="text-align:center;" width="20">6</td>
                    <td style="text-align:center;">Plain Washer 3/4</td>
                    <td style="text-align:center;">7318</td>
                    <td style="text-align:center;">210</td>
                    <td style="text-align:center;">NOS</td>
                    <td style="text-align:center;">70.00</td>
                    <td style="text-align:center;">KGS</td>
                    <td style="text-align:center;">1</td>
                    <td style="text-align:center;"></td>
                    <td style="text-align:center;">18.00</td>
                    <td style="text-align:center;">455.70</td>
                </tr>
                <tr>
                    <td style="text-align:center;" width="20">7</td>
                    <td style="text-align:center;">Plain Washer 1/2 28 OD</td>
                    <td style="text-align:center;">7415</td>
                    <td style="text-align:center;">828</td>
                    <td style="text-align:center;">NOS</td>
                    <td style="text-align:center;">1.05</td>
                    <td style="text-align:center;">NOS</td>
                    <td style="text-align:center;">1</td>
                    <td style="text-align:center;"></td>
                    <td style="text-align:center;">18.00</td>
                    <td style="text-align:center;">869.40</td>
                </tr>
                <tr>
                    <td style="text-align:center;" width="20">8</td>
                    <td style="text-align:center;">Plain Washer 3/8 20 OD</td>
                    <td style="text-align:center;">7318</td>
                    <td style="text-align:center;">4300</td>
                    <td style="text-align:center;">NOS</td>
                    <td style="text-align:center;">70.00</td>
                    <td style="text-align:center;">KGS</td>
                    <td style="text-align:center;">1</td>
                    <td style="text-align:center;"></td>
                    <td style="text-align:center;">18.00</td>
                    <td style="text-align:center;">602.00</td>
                </tr>
                <tr>
                    <td style="text-align:center;"  width="20">9</td>
                    <td style="text-align:center;">Plain Washer 3/8 28 OD</td>
                    <td style="text-align:center;">7318</td>
                    <td style="text-align:center;">4300</td>
                    <td style="text-align:center;">NOS</td>
                    <td style="text-align:center;">70.00</td>
                    <td style="text-align:center;">KGS</td>
                    <td style="text-align:center;">1</td>
                    <td style="text-align:center;"></td>
                    <td style="text-align:center;">18.00</td>
                    <td style="text-align:center;">2,408.00</td>
                </tr>
                <tr>
                    <td style="text-align:center;"  width="20">10</td>
                    <td style="text-align:center;">Plain Washer 5/16</td>
                    <td style="text-align:center;">7318</td>
                    <td style="text-align:center;">600</td>
                    <td style="text-align:center;">NOS</td>
                    <td style="text-align:center;">70.00</td>
                    <td style="text-align:center;">KGS</td>
                    <td style="text-align:center;">1</td>
                    <td style="text-align:center;"></td>
                    <td style="text-align:center;">18.00</td>
                    <td style="text-align:center;">126.00</td>
                </tr>
                <tr>
                    <td style="text-align:center;" width="20">11</td>
                    <td style="text-align:center;">Pop rivets 3/16X 1/2 Lg</td>
                    <td style="text-align:center;">7318</td>
                    <td style="text-align:center;">270</td>
                    <td style="text-align:center;">NOS</td>
                    <td style="text-align:center;">0.55</td>
                    <td style="text-align:center;">KGS</td>
                    <td style="text-align:center;">1</td>
                    <td style="text-align:center;"></td>
                    <td style="text-align:center;">18.00</td>
                    <td style="text-align:center;">148.50</td>
                </tr>
                <tr>
                    <td style="text-align:center;" width="20">12</td>
                    <td style="text-align:center;">Screw -3/16 X 1/2 Self tapping</td>
                    <td style="text-align:center;">7415</td>
                    <td style="text-align:center;">40</td>
                    <td style="text-align:center;">NOS</td>
                    <td style="text-align:center;">0.10</td>
                    <td style="text-align:center;">KGS</td>
                    <td style="text-align:center;">1</td>
                    <td style="text-align:center;"></td>
                    <td style="text-align:center;">18.00</td>
                    <td style="text-align:center;">4.00</td>
                </tr>
                <tr>
                    <td style="text-align:center;" width="20">13</td>
                    <td style="text-align:center;">Spring Washer 1/2</td>
                    <td style="text-align:center;">7318</td>
                    <td style="text-align:center;">223</td>
                    <td style="text-align:center;">NOS</td>
                    <td style="text-align:center;">0.32</td>
                    <td style="text-align:center;">NOS</td>
                    <td style="text-align:center;">1</td>
                    <td style="text-align:center;"></td>
                    <td style="text-align:center;">18.00</td>
                    <td style="text-align:center;">71.36</td>
                </tr>
                <tr>
                    <td style="text-align:center;" width="20">14</td>
                    <td style="text-align:center;">Taper Washer 1/2</td>
                    <td style="text-align:center;">7318</td>
                    <td style="text-align:center;">20</td>
                    <td style="text-align:center;">NOS</td>
                    <td style="text-align:center;">5.50</td>
                    <td style="text-align:center;">NOS</td>
                    <td style="text-align:center;">1</td>
                    <td style="text-align:center;"></td>
                    <td style="text-align:center;">18.00</td>
                    <td style="text-align:center;">110.00</td>
                </tr>
                <tr>
                    <td style="text-align:center;" width="20">15</td>
                    <td style="text-align:center;">Taper Washer 3/4</td>
                    <td style="text-align:center;">7318</td>
                    <td style="text-align:center;">210</td>
                    <td style="text-align:center;">NOS</td>
                    <td style="text-align:center;">7.80</td>
                    <td style="text-align:center;">NOS</td>
                    <td style="text-align:center;">1</td>
                    <td style="text-align:center;"></td>
                    <td style="text-align:center;">18.00</td>
                    <td style="text-align:center;">1,638.00</td>
                </tr>
                
                <tr valign="middle">
                    <td colspan="2" style="text-align:center;" height="20"><h5>IGST Amount :</h5></td>
                    <td colspan="2" style="text-align:center;" height="20"><h5>0.00</h5></td>
                    <td colspan="2" style="text-align:center;" height="20"><h5>SGST Amount :</h5></td>
                    <td colspan="2" style="text-align:center;" height="20"><h5>1,119.50</h5></td>
                    <td colspan="2" style="text-align:center;" height="20"><h5>CGST Amount :</h5></td>
                    <td colspan="2" style="text-align:center;" height="20"><h5>1,119.50</h5></td>
                </tr>
                

            </tbody>
        </table>
        <p>&nbsp;</p>
        
    </td>
</tr>
<tr >
    <td colspan="2" width="50%">
        <table border="0" cellpadding="2">
            <tr>
                <td style="text-align: left; color:black;;">Transport Arrangement</td>
                <td style="text-align: left; color:black;;">BY YOU </td>
            </tr>
            
            <tr>
                <td style = "text-align: left; color:black;;">Freight :</td>
                <td style = "text-align: left; color:black;;">BY US</td>
            </tr>
            
            <tr>
                <td style = "text-align: left; color:black;;">Insurance :</td>
                <td style = "text-align: left; color:black;;">BY US </td>                                                                        
            </tr>
            
            <tr>
                <td style = "text-align: left; color:black;;">Note   :</td>
            </tr>
        </table>
    </td>
    <td width="50%">
            <table border="0" cellpadding="3" cellspacing="0">
                    <tr>
                        <td style = "text-align: left; color:black;;">Basic Amount : </td>
                        <td style="text-align:left; color:black;;">12,438.84</td>
                    </tr>
                    
                    <tr>
                        <td style = "text-align: left; color:black;;">CGST & SGST Amount</td>
                        <td  style = "text-align: left; color:black;;">2,239.00</td>
                    </tr>
                    
                    <tr cellpadding="2">
                        <td style = "text-align: left; color:black;;">Rounded Off</td>
                        <td style = "text-align: left; color:black;;">0.16</td>
                    </tr>
            </table>
    </td>

</tr>
<tr valign="top">
    <td colspan="2" width="50%" style = "text-align: left; color:black;">
        <h4>Rupees Fourteen Thousand Six Hundred Seventy Eight Only</h4>
    </td>
    <td width="50%">
        <table>
            <tr>
                <td style = "text-align: left; color:black;"><h4> Grand Total : </h4></td>
                <td style="text-align:left; color: black;"><h4> 14,678.00</h4></td>
            </tr>
        </table>
    </td>
</tr>
<tr valign="top" >
    <td colspan="3">
        <h2 style="color: black;">IMPORTANT NOTES</h2>
        <p style="color:black;"><br>
                1.Please submit the bill in the duplicate on receipt of G.R. note for the accepter material mentioning order No.,G.R.N No.<br>
                2.Delivery Challan must be sent along with the material mentioning Vendor Code,Order No.,Material Sr.No. in order & Job<br>
                No.THIS SHOULD BE STRICTLY FOLLOWED.<br>
                3.Please mention your GST details.<br>
                4.In case of any discrepancy please communicate immediately and get it settled prior to processing and supply of material.</p>
    </td>
</tr>
<tr>
    <td>  
        <p style="color:white">&nbsp;</p>
        <p style="color:white"> &nbsp;</p>
        
      
        <h4 style="text-align:center;">ADMIN</h4>             
        <h5 style="text-align:center; color:black">PREPARED BY </h5>      
    </td>
    <td>
        <p style="color:white">&nbsp;</p>
        <p style="color:white">&nbsp;</p>
        
       
        <h4  style="text-align:center; color:black">CHECKED BY</h4>
        <p style="color:white">&nbsp;</p>            
    </td>
    <td>
        
        <h3  style="text-align:center; color:black"> For Surya Equipments</h3>
        <p style="color:white">&nbsp;</p>
        
        <h5 style="text-align:center; color:black">AUTHORISED SIGNATORY</h5>
    </td>
</tr>
<tr>
    <td colspan="3">
        <h4 style="text-align:center; color:black">Subject to Kolhapur Jurisdiction</h4> 
    </td>
</tr>

</table>
EOD;

// write the html code on the blank page
$pdf->writeHTML($tbl, true, false, false, false, '');

//Close and output PDF document
$pdf->Output('example_002.pdf', 'I');

//============================================================+
// END OF FILE
//============================================================+